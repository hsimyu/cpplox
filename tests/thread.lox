fun foo() {
    print "This is sub thread";
    yield();
    print "aaa";
    yield();
    print "bbb";
    yield("final");
    print "ccc";
}

var thread = createThread(foo);
var result = nil;
print "-- run1 --";
result = runThread(thread);
print "result = " + tostring(result);

print "-- run2 --";
result = runThread(thread);
print "result = " + tostring(result);

print "-- run3 --";
result = runThread(thread);
print "result = " + tostring(result);

print "-- run4 --";
result = runThread(thread);
print "result = " + tostring(result);